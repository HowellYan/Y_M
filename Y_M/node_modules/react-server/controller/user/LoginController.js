'use strict';

const LoginService =  require('../../service/user/LoginService');

class LoginController  {
	constructor(args) {
		new LoginService();
		console.log("LoginController init");
	}

	init(req, res, next){
		const method = req.method;
		res.setHeader('Content-Type', 'application/json;charset=UTF-8');

		if(method !== "POST") {
	  		res.write('{"code":"000002","msg":"method不支持post以外的请求"}');
	  		res.end('');
	  		return res;
    	}
        let resJson = {
        	'code':'000000',
        	'msg':'成功'
        }

       
		let body = JSON.parse('{"' + decodeURI(req.rawBody).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g,'":"') + '"}')
 		console.log(body);
 		
 		res.write(JSON.stringify(resJson));
		res.end('');
  		return res;
	}

}



module.exports = LoginController;